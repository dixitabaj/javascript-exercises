<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
    </head>

    <body>
        <script>
            const score=JSON.parse(localStorage.getItem('score'));
            
            console.log(JSON.parse(localStorage.getItem('score')));
            function pickComputerMove(){

                let computerMove='';
                const random=Math.random()
                if (random<=1/3 && random>0){
                    computerMove='Rock';
                }
                else if (random>=1/3 && random>2/3){
                    computerMove='Paper'
                }
                else{
                    computerMove='Scissors'
                }
                return computerMove
            }
            function playMove(playerMove){
                computerMove=pickComputerMove()
                let result='';

                if (playerMove===computerMove){
                    result='tie';
                    score.ties+=1;
                }
                else if (
                (playerMove === 'Rock' && computerMove === 'Scissors') ||
                (playerMove === 'Paper' && computerMove === 'Rock') ||
                (playerMove === 'Scissors' && computerMove === 'Paper')
            ) {
                result = 'You won!';
                score.win+=1;
            } else {
                result = 'You lost!';
                score.loss+=1;
            }
            localStorage.setItem('score', JSON.stringify(score));
            alert(`You picked ${playerMove}. Computer picked ${computerMove}. ${result}. 
            Win: ${score.win}. Lose: ${score.loss}. Tie: ${score.ties}`);
        }

        function resetScore() {
            score = { win: 0, loss: 0, ties: 0 };
            localStorage.setItem('score', JSON.stringify(score));
            alert("Score has been reset!");
        }
        </script>
        <p>Rock Paper Scissors</p>
        <button onclick="playMove('Rock')">Rock</button>
        <button onclick="playMove('Paper')" >Paper</button>
        <button onclick="playMove('Scissors')">Rock</button>
        <button onclick="resetScore()">Reset</button>
    </body>
    <script>
    </script>
</html>